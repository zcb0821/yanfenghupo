<!DOCTYPE html>
<html>
    <head>
        <title>衍峰琥珀|编辑品牌特色</title>
        <!-- Make sure the path to CKEditor is correct. -->
        <script src="/static/ckeditor/ckeditor.js"></script>
        <link href="/static/css/cktest.css" rel="stylesheet">
        <script src="/static/js/cktest.js"></script>
    </head>
    <body>
        <form action="/admin/" method="post">
            {% csrf_token %}
            <textarea name="editor1BSP" id="editor1BSP" rows="10" cols="80">{{ CurrentBSPDetail }}</textarea>
            <iframe id="test" style="width: 400px; height: 600px;"></iframe>
            <a id="myPreview" onclick="preview()">预览</a>
            <textarea name="editor2BSP" id="editor2BSP" style="display: none"></textarea>
            <input onclick="preview()" type="submit" value="保存此次编辑">
            <script>
                // Replace the <textarea id="editor1BSP"> with a CKEditor
                // instance, using default configuration.
                CKEDITOR.replace( 'editor1BSP');
            </script>
        </form>
    </body>
<script>
    function preview(){
        var h=document.getElementById("test").contentDocument.getElementsByTagName('html')[0];
        var b=CKEDITOR.instances.editor1BSP.document.getDocumentElement().getHtml();
        h.innerHTML = b;
        document.getElementById("editor2BSP").innerHTML = b;
    }
</script>
</html>